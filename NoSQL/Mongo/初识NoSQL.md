# DB

- TRDB 传统关系型数据库

    - 初始是基于单机集中管理数据理念，所以受单机（一般指服务器）物理性能的限制

    - 是建立在集中的数据库管理系统上的，通过关系数据库系统处理数据，一般情况下只能在单机范围内实现，横向多机扩充（分布式应用）存在很大困难

    - 基于以上两点，传统关系型数据库的数据管理规模和访问速度是受到限制的，最大并发数据访问量，在几百到几万之间

    - 主要技术特点：

        - 使用强存储模式技术

        - 使用SQL技术标准来定义和操作数据库

        - 采用强事务保证可用性和安全性

        - 主要采用单机<u>集中式处理（CP）</u>方式

- NoSQL

    - 5种存储模式：键值存储，文档存储，列族存储，图存储，其他存储

        - 键值存储
            
            - 优点：简单；快速；高效计算；分布式处理

            - 缺点：对值进行多值查找功能很弱；缺少约束，意味着更容易出错；不容易建立复杂关系

        - 文档存储

            - 解决大数据环境下的快速响应问题

            - 优点：简单；相对高效（相对于传统关系型数据库）；文档格式处理；查询功能强大（相对键值数据库）；分布式处理

            - 缺点：缺少约束；数据出现冗余；相对低效（相对于基于内存的键值数据库）

        - 列族存储

            - 擅长大数据处理，TB，EB

            - 对于命名空间、行键、列族需要预先定义，列无需预先定义，可以随时添加

            - 数据存储模式相对键值数据库、文档数据库要复杂

            - 查询功能相对更加丰富

            - 高密集写入处理能力

        - 图存储

    - 主要技术特点：

        - 使用弱存储模式技术，处理速度比传统关系型数据库要快了

        - 没有采用SQL技术标准来定义和操作数据库

        - 采用弱事务保证数据可用性及安全性或根本没有事务处理机制

        - 主要采用多机<u>分布式处理（DP）</u>方式

- NewSQL

    - NewSQL数据库设计者既要实现NoSQL技术快速、有效的大数据处理能力，又要实现传统关系数据库的SQL、事务处理等的优势。


<br/>

# TRDB 与 NoSQL的主要技术区别
- 数据库数据存储模式不一样，TRDB为强数据存储模式，NoSQL为弱数据存储模式

- 分布式技术是NoSQL的核心技术思路，而TRDB以集中部署一台物理机为最初的出发点

- TRDB严格遵循[ACID原则](https://baike.baidu.com/item/ACID%E5%8E%9F%E5%88%99/9809444?fr=aladdin)，而NoSQL主体遵循Base原则

- TRDB都遵循SQL操作标准，NoSQL没有统一的操作标准

- TRDB基于单机的硬盘数据处理技术为主，NoSQL基于分布式的或者内存数据处理技术为主

<br/>

# ACID

- A ： 原子性

    - 一个事务是一个不可分割的工作单位，事务中包括的许多操作，要么都做，要么不做

- C ： 一致性

    - 事务必须是使数据库从一个一致性状态变到另一个一致性状态

- I ： 隔离性

    - 一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的

- D ： 持久性（永久性） 

    - 指一个事务一旦提交，它对数据库中数据的改变应该是永久性的。接下来的其他操作或故障不应该对其有任何的影响

<br />

# CAP Theorem

分布式架构的一个重要特点就是把计算、存储分布在网络中的多个节点上，通过软件来控制任务的发布和执行调度，这样任务能同时在多个节点并行执行，同时给上层的应用提供一个访问的远程节点。  

网络环境出现故障的时候，就需要考虑以下三个问题：

- 一致性（复制）

    - 在同一时刻，任何一个终端客户在每个节点都能读到最新写入的数据，这里的核心要求至少两台服务器保存着一样的数据

- 可用性（更新）

    - 是指一个运行的节点在合理的时间内总能响应更新请求，不会发生错误或超时

- 分区容错性（随时读）

    - 当网络发生故障时，系统仍能继续保持响应客户读请求的能力

帽子定理提出的问题及大数据问题，要求NoSQL数据库在分布式处理的情况下，要具有更好的**可伸缩性**。当计算和存储量不够时，可以灵活匹配服务器进行功能扩充；当服务器等硬件出现问题时，可以方便地更换硬件，排队故障，而不影响NoSQL提供对外服务。

<br/>

# BASE

- BA（基本可用）

    - 分布式系统某些部分出现故障时，那么系统的其余部分依然可以继续运作

- S （软状态）

    - 允许存储数据状态暂时不一致

- E（最终一致性）

    - 允许暂时不一致，最终结果一致